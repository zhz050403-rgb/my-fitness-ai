<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Coach Pro | ä¸´åºŠçº§èº«ä½“å»ºæ¨¡è¯„ä¼°</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root { --accent: #4f46e5; --glass: rgba(255, 255, 255, 0.98); --text: #1f2937; }
        body { 
            margin: 0; padding: 10px; min-height: 100vh;
            display: flex; justify-content: center; align-items: flex-start;
            font-family: -apple-system, "PingFang SC", "Microsoft YaHei", sans-serif;
            background: #0f172a; /* æ·±é‚ƒå•†ä¸šåº•è‰² */
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            overflow-x: hidden;
        }
        .glass-card {
            background: var(--glass);
            border-radius: 20px; padding: 25px; width: 100%; max-width: 500px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); box-sizing: border-box;
            margin: 10px 0;
        }
        h1 { text-align: center; color: var(--accent); font-size: 1.4rem; margin: 0 0 10px; font-weight: 800; }
        .intro-text { font-size: 0.8rem; color: #6b7280; line-height: 1.5; text-align: center; margin-bottom: 25px; }

        .auth-box { 
            background: #f8fafc; padding: 15px; border-radius: 12px; margin-bottom: 25px;
            border: 1px solid #e2e8f0;
        }
        .auth-box input { 
            width: 100%; border: 2px solid #cbd5e1; padding: 12px; border-radius: 8px; 
            font-size: 1rem; text-align: center; font-weight: bold; color: var(--accent); outline: none;
        }

        .section-header { 
            background: #eef2ff; color: var(--accent); padding: 6px 12px; 
            border-radius: 6px; font-size: 0.85rem; font-weight: bold; margin: 25px 0 15px;
            border-left: 4px solid var(--accent);
        }
        
        .q-box { margin-bottom: 18px; }
        .q-box label { display: block; font-size: 0.85rem; font-weight: 600; color: #334155; margin-bottom: 8px; line-height: 1.4; }
        
        select { 
            width: 100%; padding: 10px; border: 1px solid #cbd5e1; 
            border-radius: 8px; font-size: 14px; background: #fff; appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 10px center; background-size: 1em;
        }

        button { 
            width: 100%; padding: 18px; border: none; border-radius: 12px; 
            background: var(--accent); color: white; font-size: 1rem; font-weight: 800; 
            cursor: pointer; margin-top: 20px;
        }
        
        #output { 
            margin-top: 25px; line-height: 1.7; font-size: 14px; color: #334155;
            word-wrap: break-word; overflow-wrap: break-word;
        }
        #output table { width: 100% !important; border-collapse: collapse; display: block; overflow-x: auto; margin: 15px 0; }
        #output th, #output td { border: 1px solid #e2e8f0; padding: 10px; min-width: 80px; }
        .loading { text-align: center; color: var(--accent); font-weight: bold; padding: 30px; }
    </style>
</head>
<body>

<div class="glass-card">
    <h1>AI èº«ä½“å»ºæ¨¡è¯„ä¼°</h1>
    <p class="intro-text">
        è·³è¿‡æ„å¿—åŠ›ï¼Œç”¨å™¨æ¢°é™åˆ¶é”™è¯¯ç”¨åŠ›ã€‚<br>å›ç­”çœŸå®æ„Ÿè§‰ï¼Œæˆ‘å°†åœ¨åå°ä¸ºä½ å»ºç«‹èº«ä½“åŠ›çº¿æ¨¡å‹ã€‚
    </p>

    <div class="auth-box">
        <input type="text" id="authCode" maxlength="10" placeholder="è¾“å…¥ 10 ä½æˆæƒç ">
    </div>

    <div class="section-header">ç¬¬ä¸€ç»„ï¼šé™æ€ä½“æ€åé¦ˆ</div>
    <div class="q-box"><label>1. ç«™ç«‹ 3 åˆ†é’Ÿï¼Œé‡å¿ƒå€¾å‘äºï¼Ÿ</label><select id="q1"><option>å·¦è„š</option><option>å³è„š</option><option>ä¸¤è¾¹å‡åŒ€</option></select></div>
    <div class="q-box"><label>2. ç«™ä¹…äº†æœ€å…ˆç´¯çš„éƒ¨ä½ï¼Ÿ</label><select id="q2"><option>è…°/åè…°</option><option>ä¸€ä¾§å±è‚¡</option><option>å¤§è…¿å‰ä¾§</option><option>å°è…¿</option><option>ä¸ŠèƒŒ/è„–å­</option></select></div>
    <div class="q-box"><label>3. ç«™ç«‹æ—¶ä¹ æƒ¯æ€§å§¿æ€ï¼Ÿ</label><select id="q3"><option>é”æ­»è†ç›–</option><option>å¡Œè…°/ç¿˜å±è‚¡</option><option>æŒºè‚šå­/éª¨ç›†å‰ç§»</option><option>å«èƒ¸/åœ†è‚©</option></select></div>

    <div class="section-header">ç¬¬äºŒç»„ï¼šä¸‹è‚¢åŠ›çº¿ä¸èµ°è·¯</div>
    <div class="q-box"><label>4. èµ°è·¯æ—¶ï¼Œé‹åº•ç£¨æŸæ›´é‡çš„ä¸€ä¾§ï¼Ÿ</label><select id="q4"><option>å¤–ä¾§æ›´ç£¨</option><option>å†…ä¾§æ›´ç£¨</option><option>åŸºæœ¬æŒå¹³</option></select></div>
    <div class="q-box"><label>5. ä¸Šæ¥¼æ¢¯æ—¶ï¼Œå“ªæ¡è…¿æ›´æ„¿æ„å‘åŠ›å…ˆè¿ˆï¼Ÿ</label><select id="q5"><option>å·¦è…¿</option><option>å³è…¿</option><option>å·¦å³æ— å·®åˆ«</option></select></div>
    <div class="q-box"><label>6. å•è…¿ç«™ç«‹ 10 ç§’ï¼Œå“ªä¾§æ™ƒåŠ¨æ›´æ˜æ˜¾ï¼Ÿ</label><select id="q6"><option>å·¦ä¾§</option><option>å³ä¾§</option><option>éƒ½æŒºç¨³</option></select></div>

    <div class="section-header">ç¬¬ä¸‰ç»„ï¼šå‹Ÿé›†æ„Ÿè¯„ä¼°</div>
    <div class="q-box"><label>7. è‡€æ¡¥è®­ç»ƒæ—¶ï¼Œå“ªé‡Œæœ€é…¸ï¼Ÿ</label><select id="q7"><option>å±è‚¡</option><option>è…°éƒ¨</option><option>å¤§è…¿åä¾§/å‰ä¾§</option></select></div>
    <div class="q-box"><label>8. è…¿ä¸¾(å€’è¹¬)æ—¶ï¼Œæ›´å®¹æ˜“æ„Ÿè§‰åˆ°ï¼Ÿ</label><select id="q8"><option>å¤§è…¿å‰ä¾§</option><option>å±è‚¡</option><option>è†ç›–å‹åŠ›æ˜æ˜¾</option></select></div>
    <div class="q-box"><label>9. åå§¿å¤–å±•æ—¶ï¼Œå±è‚¡å¤–ä¾§æœ‰æ„Ÿè§‰å—ï¼Ÿ</label><select id="q9"><option>åªæœ‰å¤§è…¿é…¸/å±è‚¡æ²¡æ„Ÿ</option><option>èƒ½æ¸…æ¥šæ„Ÿè§‰åˆ°å±è‚¡å¤–ä¾§</option><option>æ„Ÿè§‰è…°å¾ˆç´§</option></select></div>

    <div class="section-header">ç¬¬å››ç»„ï¼šè„–é¢ˆä¸ä¸‹é¢ŒçŠ¶æ€</div>
    <div class="q-box"><label>10. åç€æ”¾æ¾æ—¶ï¼Œä¸‹å·´çš„ä½ç½®ï¼Ÿ</label><select id="q10"><option>ä¹ æƒ¯æ€§å‰ä¼¸</option><option>èƒ½è‡ªç„¶æ”¶å›</option><option>æ²¡æ³¨æ„è¿‡</option></select></div>
    <div class="q-box"><label>11. å¼ å¤§å˜´æ—¶ï¼Œè€³æœµé™„è¿‘æ˜¯å¦å“æˆ–ç–¼ï¼Ÿ</label><select id="q11"><option>æœ‰å’”å“’å£°</option><option>ç–¼æˆ–æœ‰å¡ä½æ„Ÿ</option><option>åªæ˜¯ç´§ï¼Œä¸å“</option><option>å®Œå…¨æ­£å¸¸</option></select></div>
    <div class="q-box"><label>12. ç¡è§‰çš„ä¹ æƒ¯å§¿åŠ¿ï¼Ÿ</label><select id="q12"><option>å·¦ä¾§</option><option>å³ä¾§</option><option>å¹³èºº</option><option>è¶´ç€</option></select></div>

    <div class="section-header">ç¬¬äº”ç»„ï¼šå‘¼å¸ä¸è…¹å‹</div>
    <div class="q-box"><label>13. æ·±å¸æ°”æ—¶ï¼Œå“ªé‡Œèµ·ä¼å¤§ï¼Ÿ</label><select id="q13"><option>èƒ¸éƒ¨è€¸èµ·</option><option>è‚šå­å¾€å‰æŒº</option><option>è‚‹éª¨å‘ä¸¤è¾¹æ’‘å¼€</option></select></div>
    <div class="q-box"><label>14. ç”¨åŠ›å±æ¯æ—¶ï¼Œèº«ä½“çš„ç¬¬ä¸€ååº”ï¼Ÿ</label><select id="q14"><option>æ†‹æ°”æ†‹åˆ°è„¸çº¢</option><option>è‚©è†€ä¸è‡ªè§‰è€¸èµ·</option><option>è…¹éƒ¨åšå®é¡¶å‡º</option></select></div>
    <div class="q-box"><label>15. å’³å—½æ—¶ï¼Œè…¹åº•çš„æ„Ÿè§‰ï¼Ÿ</label><select id="q15"><option>ä¸‹æ„è¯†æ”¶ç´§</option><option>æ„Ÿè§‰å¾€ä¸‹å </option><option>æ²¡æ„Ÿè§‰</option></select></div>

    <div class="section-header">ç¬¬å…­ç»„ï¼šç–¼ç—›ä¸ä½“èƒ½ä¸Šé™</div>
    <div class="q-box"><label>16. ç»ƒåç¬¬äºŒå¤©ï¼Œè‚Œè‚‰çš„æ„Ÿè§‰ï¼Ÿ</label><select id="q16"><option>é…¸èƒ€ä½†èˆ’æœ</option><option>æå…¶åƒµç¡¬</option><option>å…³èŠ‚æˆ–ç­‹éšéšç–¼</option></select></div>
    <div class="q-box"><label>17. ç”Ÿç†æœŸæˆ–ç–²åŠ³æ—¶ï¼Œå“ªç–¼å¾—å‰å®³ï¼Ÿ</label><select id="q17"><option>å°è…¹å ç–¼</option><option>åè…°é…¸ç–¼</option><option>å…¨èº«ä¹åŠ›æ²¡ç–¼ç‚¹</option></select></div>
    <div class="q-box"><label>18. ç¡é†’æ—¶ï¼Œèº«ä½“çš„ç¬¬ä¸€ä½“æ„Ÿï¼Ÿ</label><select id="q18"><option>è½»ç›ˆ/æ¾</option><option>å¾ˆæ²‰/ç´§</option><option>æŸå¤„å›ºå®šé…¸ç–¼</option></select></div>

    <div class="section-header">ç¬¬ä¸ƒç»„ï¼šè®­ç»ƒè¡Œä¸ºåå¥½</div>
    <div class="q-box"><label>19. åœ¨å¥èº«æˆ¿çš„è€å—åº¦ï¼Ÿ</label><select id="q19"><option>èƒ½æŒ‰éƒ¨å°±ç­ç»ƒå®Œ</option><option>ä¸­é€”ç´¯äº†æå…¶æƒ³èµ°</option></select></div>
    <div class="q-box"><label>20. æ–¹æ¡ˆæ‰§è¡Œæ€åº¦ï¼Ÿ</label><select id="q20"><option>100%æŒ‰é¡ºåºï¼Œä¸ä¹±åŠ¨</option><option>å®¹æ˜“æ‰‹ç—’åŠ ç»ƒæˆ–æ”¹åŠ¨ä½œ</option></select></div>

    <button id="submitBtn">å¼€å§‹ä¸´åºŠçº§å»ºæ¨¡åˆ†æ</button>
    
    <div id="output"></div>
</div>

<script>
    document.getElementById('submitBtn').addEventListener('click', async () => {
        const code = document.getElementById('authCode').value.trim().toUpperCase();
        const out = document.getElementById('output');

        // æ ¡éªŒé€»è¾‘
        const isValid = (s) => s.length === 10 && s.includes("K") && (s.charCodeAt(3) - s.charCodeAt(7) === 3);
        if(!isValid(code)) { alert("æˆæƒç éªŒè¯å¤±è´¥"); return; }

        const used = JSON.parse(localStorage.getItem('used_codes') || '[]');
        if(used.includes(code)) { alert("è¯¥ç å·²åœ¨å½“å‰è®¾å¤‡æ¿€æ´»"); return; }

        out.innerHTML = "<div class='loading'>ğŸ’ æˆæƒæˆåŠŸï¼æ‚¨çš„ä¸“å±ç§äººæ•™ç»ƒæ­£åœ¨ä¸ºæ‚¨è§„åˆ’è®¡åˆ’...</div>";

        let answers = "";
        for(let i=1; i<=20; i++) { answers += `é—®é¢˜${i}: ${document.getElementById('q'+i).value}\n`; }

        // âš ï¸ æ­¤å¤„å¡«å…¥ DeepSeek KEY
        const KEY = "sk-d37975a862d84a7580adf1759cee3a1a"; 

        try {
            const resp = await fetch("https://api.deepseek.com/chat/completions", {
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": `Bearer ${KEY}` },
                body: JSON.stringify({
                    model: "deepseek-chat",
                    messages: [
                        {role: "system", content: "ä½ æ˜¯ä¸€ä½20å¹´ç»éªŒçš„ç”Ÿç‰©åŠ›å­¦ä¸“å®¶ã€‚æ ¹æ®ç”¨æˆ·20é“ä½“æ€/å‹Ÿé›†æ„Ÿåé¦ˆï¼Œå…ˆç»™å‡ºä¸´åºŠçº§å»ºæ¨¡è¯Šæ–­ï¼ˆæŒ‡å‡ºä»£å¿ç‚¹å’ŒåŠ›çº¿é—®é¢˜ï¼‰ï¼Œå†ç»™å‡ºä¸€ä»½30å¤©å™¨æ¢°ä¸»å¯¼è®¡åˆ’ï¼ˆä¸è¶…è¿‡8ä¸ªåŠ¨ä½œï¼Œä¸¥ç¦å¾’æ‰‹åŠ¨ä½œï¼‰ã€‚Markdownæ’ç‰ˆï¼Œä½¿ç”¨è¡¨æ ¼å±•ç¤ºè®¡åˆ’ã€‚"},
                        {role: "user", content: answers}
                    ]
                })
            });
            const data = await resp.json();
            used.push(code);
            localStorage.setItem('used_codes', JSON.stringify(used));
            out.innerHTML = marked.parse(data.choices[0].message.content);
            out.scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            out.innerHTML = "<p style='color:red'>è¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ Key æˆ–ç½‘ç»œã€‚</p>";
        }
    });
</script>
</body>
</html>

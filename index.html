<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Coach Pro | 20é¡¹æ·±åº¦ä½“æ€è¯„ä¼°</title>
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/marked/4.0.2/marked.min.js"></script>
    <style>
        :root { --accent: #ff2442; }
        body { margin: 0; padding: 0; min-height: 100vh; font-family: -apple-system, sans-serif; background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab); background-size: 400% 400%; animation: gradientBG 15s ease infinite; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .container { width: 90%; max-width: 440px; background: rgba(255, 255, 255, 0.25); backdrop-filter: blur(25px); border-radius: 30px; padding: 25px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 20px 50px rgba(0,0,0,0.15); color: #1e1b4b; }
        .page { display: none; flex-direction: column; animation: fadeIn 0.4s ease forwards; }
        .page.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .progress-bar { width: 100%; height: 6px; background: rgba(255,255,255,0.3); border-radius: 3px; margin-bottom: 20px; overflow: hidden; }
        #progress-inner { width: 0%; height: 100%; background: var(--accent); transition: 0.3s; }
        .inst-box { background: rgba(255,255,255,0.4); padding: 12px; border-radius: 12px; font-size: 0.85rem; margin-bottom: 15px; border-left: 4px solid var(--accent); }
        h2 { font-size: 1.1rem; text-align: center; margin-bottom: 15px; line-height: 1.4; }
        .opt-btn { background: rgba(255,255,255,0.6); padding: 16px; border-radius: 15px; margin-bottom: 10px; cursor: pointer; text-align: center; font-weight: bold; border: 1px solid transparent; }
        .opt-btn:active { background: #fff; transform: scale(0.97); }
        input { width: 100%; padding: 18px; border-radius: 15px; border: 1px solid rgba(0,0,0,0.1); margin-bottom: 20px; text-align: center; font-size: 1.1rem; font-family: monospace; }
        .active-btn { background: var(--accent); color: white; padding: 18px; border: none; border-radius: 16px; width: 100%; font-weight: bold; cursor: pointer; font-size: 1.1rem; }
        #result-page { display: none; position: fixed; inset: 0; background: #fff; z-index: 9999; padding: 25px; overflow-y: auto; color: #333; }
        #loader { display: none; text-align: center; font-weight: bold; margin-top: 15px; }
    </style>
</head>
<body>

<div class="container" id="app">
    <div id="page-quiz" class="page active">
        <div class="progress-bar"><div id="progress-inner"></div></div>
        <div class="inst-box" id="hint-text">è‡ªæ£€å‡†å¤‡ä¸­...</div>
        <h2 id="question-text">æ­£åœ¨åˆå§‹åŒ–</h2>
        <div id="options-box"></div>
    </div>

    <div id="page-auth" class="page">
        <h2>ğŸ”“ æ¿€æ´» AI å®šåˆ¶æŠ¥å‘Š</h2>
        <div class="inst-box">è¯·è¾“å…¥æ‚¨çš„ 12-16 ä½æˆæƒæ¿€æ´»ç ä»¥å¼€å§‹åˆ†æã€‚</div>
        <input type="text" id="activationCode" placeholder="æ ¼å¼ï¼šXXXXX-XXXXXX">
        <button class="active-btn" onclick="handleVerify()">éªŒè¯å¹¶ç”ŸæˆæŠ¥å‘Š</button>
        <div id="loader">ğŸš€ AI æ­£åœ¨æ ¹æ®æ‚¨çš„ 20 é¡¹ä½“æ€æŒ‡æ ‡å»ºæ¨¡...</div>
    </div>
</div>

<div id="result-page">
    <div id="md-body" style="line-height: 1.6;"></div>
    <button onclick="location.reload()" style="width:100%; padding:15px; margin-top:20px; border:none; background:#eee; border-radius:12px; font-weight:bold;">é‡æ–°æµ‹è¯„</button>
</div>

<script>
    const questions = [
        { h: "è‡ªæ£€ 1: å¤´éƒ¨", q: "ä¾§èº«çœ‹ï¼Œè€³å‚æ˜¯å¦æ˜æ˜¾åœ¨è‚©è†€å‰æ–¹ï¼Ÿ", opts: ["å¤´å‰ä¼¸", "åŸºæœ¬å‚ç›´", "ä¸ç¡®å®š"] },
        { h: "è‡ªæ£€ 2: è‚©éƒ¨", q: "è‡ªç„¶ç«™ç«‹ï¼Œæ‰‹æŒå¿ƒçš„æœå‘ï¼Ÿ", opts: ["å‘å(åœ†è‚©)", "å‘å¤§è…¿(æ­£å¸¸)", "ä¸ç¡®å®š"] },
        { h: "è‡ªæ£€ 3: é”éª¨", q: "é•œä¸­è§‚å¯Ÿï¼Œé”éª¨çš„å½¢æ€ï¼Ÿ", opts: ["æ˜æ˜¾çš„Vå‹", "å¹³ç›´ä¸€å­—å‹", "çœ‹ä¸æ¸…"] },
        { h: "è‡ªæ£€ 4: è‚©é«˜", q: "åŒè‚©æ˜¯å¦æœ‰æ˜æ˜¾é«˜ä½ä¸ä¸€ï¼Ÿ", opts: ["å·¦é«˜å³ä½", "å³é«˜å·¦ä½", "åŸºæœ¬é½å¹³"] },
        { h: "è‡ªæ£€ 5: èº¯å¹²", q: "é å¢™ç«™ï¼Œåè„‘å‹ºèƒ½å¦è½»æ¾è´´å¢™ï¼Ÿ", opts: ["è´´ä¸åˆ°", "è½»æ¾è´´åˆ°", "è´´åˆ°ä½†åƒåŠ›"] },
        { h: "è‡ªæ£€ 6: è…°æ¤", q: "è…°ä¸å¢™ä¹‹é—´ç©ºéš™å¯å¡è¿›ï¼Ÿ", opts: ["æ•´ä¸ªæ‹³å¤´", "ä¸€ä¸ªæ‰‹æŒ", "æ²¡ç¼éš™"] },
        { h: "è‡ªæ£€ 7: éª¨ç›†", q: "å››è‚¢ä¸èƒ–ä½†å°è…¹æ˜æ˜¾å‰å‡¸ï¼Ÿ", opts: ["å¾ˆæ˜æ˜¾", "å¶å°”", "æ²¡æœ‰"] },
        { h: "è‡ªæ£€ 8: æ—‹è½¬", q: "æ˜¯å¦æœ‰ç»å¸¸æ€§éª¨ç›†æ—‹è½¬æ„Ÿ(è£¤å¤´æ–œ)ï¼Ÿ", opts: ["æœ‰", "æ— ", "ä¸ç¡®å®š"] },
        { h: "è‡ªæ£€ 9: è†ç›–", q: "åŒè„šå¹¶æ‹¢ï¼Œè†ç›–èƒ½ç¢°åˆ°å—ï¼Ÿ", opts: ["ç¢°ä¸åˆ°(Oå‹)", "èƒ½ç¢°åˆ°", "è†ç›–å†…æ‰£(Xå‹)"] },
        { h: "è‡ªæ£€ 10: è¶³è¸", q: "è§‚å¯Ÿé‹åº•ï¼Œå“ªä¾§ç£¨æŸæ›´ä¸¥é‡ï¼Ÿ", opts: ["å¤–ä¾§å¤š", "å†…ä¾§å¤š", "è¾ƒå‡åŒ€"] },
        { h: "ä½“æ„Ÿ 11", q: "ä¹…åä¸€å°æ—¶åï¼Œå“ªé‡Œæœ€ä¸èˆ’æœï¼Ÿ", opts: ["é¢ˆå/æ–œæ–¹è‚Œ", "ä¸‹è…°éƒ¨", "è‡€éƒ¨/è…¿éº»"] },
        { h: "ä¹ æƒ¯ 12", q: "å¹³æ—¶æ˜¯å¦æœ‰ä¹ æƒ¯æ€§ç¿˜äºŒéƒè…¿ï¼Ÿ", opts: ["ç»å¸¸ç¿˜", "å¶å°”", "åŸºæœ¬ä¸ç¿˜"] },
        { h: "åŠ¨æ€ 13", q: "åŒæ‰‹å‘åèƒŒå‹¾ï¼Œèƒ½å¦æŒ‡å°–ç›¸æ‰£ï¼Ÿ", opts: ["å·®å¾ˆè¿œ", "å‹‰å¼ºç¢°åˆ°", "è½»æ¾ç›¸æ‰£"] },
        { h: "åŠ¨æ€ 14", q: "åŒè„šå¹¶æ‹¢ä¸‹è¹²(äºšæ´²è¹²)ï¼Œä¼šå€’å—ï¼Ÿ", opts: ["ä¼šå¾€åå€’", "è½»æ¾ä¸‹è¹²", "è„šè·Ÿç¦»åœ°"] },
        { h: "å‘¼å¸ 15", q: "æ·±å‘¼å¸æ—¶ï¼Œä¸»è¦æ˜¯èƒ¸å£èµ·ä¼å—ï¼Ÿ", opts: ["æ˜¯çš„(æµ…å‘¼å¸)", "è…¹éƒ¨èµ·ä¼", "éƒ½æœ‰"] },
        { h: "æ ¸å¿ƒ 16", q: "å•è„šç«™ç«‹é—­çœ¼ï¼Œèƒ½åšæŒ10ç§’å—ï¼Ÿ", opts: ["åšæŒä¸ä½", "å‹‰å¼ºå¯ä»¥", "éå¸¸è½»æ¾"] },
        { h: "è§†è§‰ 17", q: "èƒŒéƒ¨è‚©èƒ›éª¨æ˜¯å¦åƒâ€œç¿…è†€â€èˆ¬å‡¸èµ·ï¼Ÿ", opts: ["æ˜æ˜¾å‡¸èµ·", "å¹³æ•´è´´åˆ", "ç•¥å¾®å‡¸èµ·"] },
        { h: "ç—‡çŠ¶ 18", q: "è½¬åŠ¨è„–å­æ—¶æ˜¯å¦æœ‰â€œå˜å±â€å“å£°ï¼Ÿ", opts: ["ç»å¸¸å“", "å¶å°”å“", "ä»æœªå“è¿‡"] },
        { h: "ç”Ÿæ´» 19", q: "æ¯å¤©ä½å¤´ç©æ‰‹æœº/ç”µè„‘æ—¶é•¿ï¼Ÿ", opts: ["8å°æ—¶ä»¥ä¸Š", "4-8å°æ—¶", "4å°æ—¶ä»¥å†…"] },
        { h: "ä½“è´¨ 20", q: "è¿åŠ¨åå…³èŠ‚æ˜¯å¦æœ‰è¿‡åŠ³ç–¼ç—›æ„Ÿï¼Ÿ", opts: ["ç»å¸¸æœ‰", "å¶å°”", "å‡ ä¹æ²¡æœ‰"] }
    ];

    let currentIdx = 0;
    let userData = [];

    function initQuiz() {
        const q = questions[currentIdx];
        document.getElementById('hint-text').innerText = q.h;
        document.getElementById('question-text').innerText = q.q;
        document.getElementById('progress-inner').style.width = ((currentIdx+1)/20)*100 + '%';
        const box = document.getElementById('options-box');
        box.innerHTML = '';
        q.opts.forEach(o => {
            const btn = document.createElement('div');
            btn.className = 'opt-btn'; btn.innerText = o;
            btn.onclick = () => {
                userData.push(`${q.h}:${o}`);
                if(currentIdx < 19) { currentIdx++; initQuiz(); }
                else { 
                    document.getElementById('page-quiz').classList.remove('active');
                    document.getElementById('page-auth').classList.add('active');
                }
            };
            box.appendChild(btn);
        });
    }

    async function handleVerify() {
        const input = document.getElementById('activationCode').value;
        const parts = input.split('-');
        if(parts.length !== 2) return alert("æ¿€æ´»ç æ ¼å¼é”™è¯¯ï¼ˆéœ€åŒ…å«ä¸€ä¸ªæ¨ªæ ï¼‰");

        // ASCII æ ¡éªŒé€»è¾‘
        const sum1 = parts[0].split('').reduce((a, b) => a + b.charCodeAt(0), 0);
        const sum2 = parts[1].split('').reduce((a, b) => a + b.charCodeAt(0), 0);

        if(sum1 !== 543 || sum2 !== 618) {
            alert("æ¿€æ´»ç æ— æ•ˆï¼Œè¯·æ£€æŸ¥è¾“å…¥æˆ–è”ç³»å®¢æœã€‚");
            return;
        }

        document.getElementById('loader').style.display = 'block';
        const KEY = "sk-d37975a862d84a7580adf1759cee3a1a"; // ğŸš¨ å¡«å…¥ sk- å¼€å¤´çš„ Key

        try {
            const res = await fetch("https://api.deepseek.com/chat/completions", {
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": `Bearer ${KEY}` },
                body: JSON.stringify({
                    model: "deepseek-chat",
                    messages: [
                        {role: "system", content: "ä½ æ˜¯ä¸€ä½é¡¶çº§äººä½“ä½“æ€çº æ­£ä¸“å®¶ã€‚"},
                        {role: "user", content: `æµ‹è¯„æ•°æ®ï¼š${JSON.stringify(userData)}ã€‚è¯·ç»™å‡ºä¸€ä»½ä¸“ä¸šã€å…·æœ‰é¼“åŠ±æ€§çš„30å¤©ä½“æ€çº æ­£æŠ¥å‘Šã€‚åŒ…å«ï¼šè¯Šæ–­ç»“è®ºã€æ ¸å¿ƒé—®é¢˜ç‚¹ã€é’ˆå¯¹æ€§åŠ¨ä½œå»ºè®®ï¼ˆåˆ†æ—©æ™šï¼‰ã€ç”Ÿæ´»ç¦å¿Œã€‚ç”¨Markdownè¾“å‡ºã€‚`}
                    ]
                })
            });
            const data = await res.json();
            document.getElementById('app').style.display = 'none';
            document.getElementById('result-page').style.display = 'block';
            document.getElementById('md-body').innerHTML = marked.parse(data.choices[0].message.content);
        } catch(e) {
            alert("AI è¿æ¥è¶…æ—¶ï¼Œè¯·é‡è¯•ã€‚");
            document.getElementById('loader').style.display = 'none';
        }
    }
    window.onload = initQuiz;
</script>
</body>
</html>
